
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Budget App</title>
<style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f2f2f2; }
    header { background: #4CAF50; color: white; padding: 10px; text-align: center; font-size: 1.5em; }
    nav { display: flex; background: #333; }
    nav button { flex: 1; padding: 10px; background: #333; color: white; border: none; font-size: 1em; }
    nav button.active { background: #4CAF50; }
    .page { display: none; padding: 15px; }
    .visible { display: block; }
    input, select { width: 100%; padding: 8px; margin: 5px 0; }
    button { padding: 10px; background: #4CAF50; color: white; border: none; cursor: pointer; }
    ul { list-style: none; padding: 0; }
    li { background: white; padding: 10px; margin: 5px 0; border-radius: 4px; }
</style>
</head>
<body>

<header>Budget App</header>

<nav>
    <button onclick="showPage('dashboard')" id="nav-dashboard" class="active">Dashboard</button>
    <button onclick="showPage('transactions')" id="nav-transactions">Transactions</button>
    <button onclick="showPage('budgets')" id="nav-budgets">Budgets</button>
</nav>

<div id="dashboard" class="page visible">
    <h2>Dashboard</h2>
    <p>Total Balance: <span id="total-balance">0</span></p>
    <p>Monthly Spend: <span id="monthly-spend">0</span></p>
</div>

<div id="transactions" class="page">
    <h2>Transactions</h2>
    <form id="transaction-form">
        <input type="date" id="t-date" required>
        <input type="number" id="t-amount" placeholder="Amount" required>
        <select id="t-type">
            <option value="income">Income</option>
            <option value="expense">Expense</option>
        </select>
        <input type="text" id="t-category" placeholder="Category" required>
        <button type="submit">Add Transaction</button>
    </form>
    <ul id="transaction-list"></ul>
</div>

<div id="budgets" class="page">
    <h2>Budgets</h2>
    <form id="budget-form">
        <input type="text" id="b-category" placeholder="Category" required>
        <input type="number" id="b-amount" placeholder="Monthly Budget" required>
        <button type="submit">Set Budget</button>
    </form>
    <ul id="budget-list"></ul>
</div>

<script>
    let transactions = JSON.parse(localStorage.getItem('transactions') || '[]');
    let budgets = JSON.parse(localStorage.getItem('budgets') || '[]');

    function showPage(pageId) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('visible'));
        document.getElementById(pageId).classList.add('visible');
        document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
        document.getElementById('nav-' + pageId).classList.add('active');
        updateDashboard();
    }

    function updateDashboard() {
        let totalBalance = transactions.reduce((sum, t) => sum + (t.type === 'income' ? t.amount : -t.amount), 0);
        let monthlySpend = transactions.filter(t => t.type === 'expense').reduce((sum, t) => sum + t.amount, 0);
        document.getElementById('total-balance').innerText = totalBalance.toFixed(2);
        document.getElementById('monthly-spend').innerText = monthlySpend.toFixed(2);
        renderTransactions();
        renderBudgets();
    }

    function renderTransactions() {
        let list = document.getElementById('transaction-list');
        list.innerHTML = '';
        transactions.forEach((t, i) => {
            let li = document.createElement('li');
            li.innerText = `${t.date} - ${t.category} - ${t.type} - ${t.amount}`;
            list.appendChild(li);
        });
    }

    function renderBudgets() {
        let list = document.getElementById('budget-list');
        list.innerHTML = '';
        budgets.forEach((b, i) => {
            let spent = transactions.filter(t => t.category === b.category && t.type === 'expense')
                                    .reduce((sum, t) => sum + t.amount, 0);
            let li = document.createElement('li');
            li.innerText = `${b.category}: ${spent}/${b.amount}`;
            list.appendChild(li);
        });
    }

    document.getElementById('transaction-form').addEventListener('submit', function(e) {
        e.preventDefault();
        let date = document.getElementById('t-date').value;
        let amount = parseFloat(document.getElementById('t-amount').value);
        let type = document.getElementById('t-type').value;
        let category = document.getElementById('t-category').value;
        transactions.push({ date, amount, type, category });
        localStorage.setItem('transactions', JSON.stringify(transactions));
        this.reset();
        updateDashboard();
    });

    document.getElementById('budget-form').addEventListener('submit', function(e) {
        e.preventDefault();
        let category = document.getElementById('b-category').value;
        let amount = parseFloat(document.getElementById('b-amount').value);
        budgets.push({ category, amount });
        localStorage.setItem('budgets', JSON.stringify(budgets));
        this.reset();
        updateDashboard();
    });

    updateDashboard();
</script>

</body>
</html>
